# boke

Static blog generator. (尽可能简单的静态博客生成器)

- https://docs.getpelican.com/en/latest/install.html (参考)
- https://github.com/pallets/markupsafe/
- https://doc.qt.io/qtforpython/index.html


## 特色

命令行与 GUI 的诡异结合：既具有命令行的简洁、直接，又能利用 GUI 来弥补命令行的缺点（比如不够直观、字符转义问题）。

- 大量使用 GUI, 但每个 GUI 窗口都需要用命令行调出。

## init

```txt
$ mkdir my-blog (新建一个空文件夹)
$ cd my-blog (进入空文件夹内)
$ boke init (弹出 GUI 窗口填写博客名称、默认作者，如果检测到当前文件夹不是空的，会拒绝初始化)
$ ls (成功初始化后，可以看到以下文件与文件夹)

drafts (草稿：待发布、编辑中的文章请放在这里)
posted (已发表：使用 'boke post' 命令发表文章，发表后就进入这个文件夹)
output (输出：把 posted 文件夹里的 Markdown 文件转成 HTML 文件输出到该文件夹)
templates (Jinja2模板 与 CSS文件)
boke.db (数据库)
```

## Post (发表文章)

### `boke post ./drafts/filename.md`

该命令从 drafts 文件夹中选择一个文件进行发表，会弹出一个 GUI 窗口，方便选择类别及填写作者、日期、标签、文件名等信息。

### 作者

'boke post' 命令弹出的窗口会自动填写默认作者，允许每篇文章独立更改作者名。

### 文件名

发表文章时，默认使用随机文件名（DateID），但用户可在 GUI 窗口自定义文件名，该文件名将会成为这篇文章的网址的一部分，只允许由 [0-9a-zA-z_-] 构成，而且必须是唯一的。

### 标题

自动获取文章第一行作为标题，不允许更改（要改只能在文章里改）。

### 日期

日期自动填写当前时间，采用 RFC3339 格式，允许用户修改。


## Publish (发布：根据 posted 里的 Markdown 文件与 templates 里的 Jinja2 模板，生成 HTML 与 RSS)

生成几种目录：

- 最近更新
- 类别
- 标签
- 日期（年月）

每个类别与标签下只列出 n 篇文章，加一个 more 按钮。


## Category (类别)

每篇文章都必须属于一个类别，每篇文章的 prev 和 next 按钮是在指类别内的上一篇、下一篇，每个类别可以有类别说明（类似于“卷首语”之类的东西）。

- `boke cat -l/--list` (列出全部类别名称)

## 已知缺点

- 不保存图片，需要另外配合图床使用。
